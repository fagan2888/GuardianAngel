<!DOCTYPE html>
<!--
 Guardian Angel
 --------------
 Crash detection and lean-angle measurement for motorcycles.

 Crash detection
 ---------------
 If the angle is greater than a limit (say 60 degrees) for more than a
 set period of time (say 5 seconds), we take this to mean that the bike
 has fallen over or crashed.

 In this case we send a text to specified numbers saying that the bike has
 crashed and giving a link to Google maps pointing to the location.

 Lean angle measurement
 ----------------------
 For each trip we record the maximum and minimum lean angle. At the end of the
 trip you can see this, along with where they occurred.
-->
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />

        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />

        <!-- Stylesheets -->
        <link rel="stylesheet" href="jslibs/swiper/css/swiper.css">
        <link rel="stylesheet" href="jslibs/playpause/css/playpause.css">
        <link rel="stylesheet" href="css/GuardianAngel.css">

        <!-- Javascript libraries loaded in head -->
        <script src="jslibs/jquery/jquery-2.1.4.min.js"></script>

        <title>Guardian Angel</title>
    </head>
    <body>

    <!-- The pages in the app are 'slides' from the idangero.us swiper control -->
    <div class="swiper-container">
        <div class="swiper-wrapper">

            <!-- The setting slide -->
            <div class="swiper-slide">
                <div class="header">Settings</div>
                <div class="slide-content">

                </div>
            </div>

            <!-- The main slide shown during a ride -->
            <div class="swiper-slide">
                <div class="header">Ride</div>
                <div class="slide-content">

                    <!--
                    This slide is split into two panels. One shows the lean-angle dial.
                    The other shows the GPS info and speed
                    -->
                    <div id="lean-angle-panel">

                        <!-- Button to start and stop a ride -->
                        <div id="start-button-wrapper">
                            <a href="#" id="start-button"><i class="icon-play"></i> Press to start</a>
                        </div>

                        <div id="lean-angle-dial"></div>
                        <div class="min-max"><span class="min-max-text">Max left lean:</span><span id="max-left-lean" class="min-max-angle">0.0</span>&#176</div>
                        <div class="min-max"><span class="min-max-text">Max right lean:</span><span id="max-right-lean" class="min-max-angle">0.0</span>&#176</div>

                    </div>

                    <div id="gps-info-panel">
                        <div>GPS accuracy (m): <span id="gps-accuracy">n/a</span></div>
                        <div id="gps-error"></div>
                        <div id="gps-speed-wrapper">
                            <span id="gps-speed">290</span><span id="gps-speed-type">kph</span>
                        </div>
                    </div>

                </div>

            </div>

            <!-- Shows info about a ride, such as max and min lean angle with maps -->
            <div class="swiper-slide">
                <div class="header">Ride info</div>
                <div class="slide-content">

                </div>
            </div>

            <!-- Slide shown when a crash is detected -->
            <div class="swiper-slide">
                <div class="header">Crash detection</div>
                <div class="slide-content">

                </div>
            </div>

            <!-- Slide showing log info -->
            <div class="swiper-slide">
                <div class="header">Logs</div>
                <div class="slide-content">

                    <div id="log"></div>

                </div>
            </div>

        </div>

        <!-- This shows the dots at the bottom of the page, showing the number of slides -->
        <div class="swiper-pagination"></div>
    </div>


    <!-- Javascript -->
    <script src="cordova.js"></script>
    <script src="jslibs/swiper/js/swiper.min.js"></script>
    <script src="jslibs/raphael/raphael.js"></script>
    <script src="jslibs/raphael/wso2vis.ctrls.js"></script>
    <script src="js/LeanCalculator.js"></script>
    <script src="js/GuardianAngel.js"></script>
    <script>
        // Runs the code that manages the app...
        var guardianAngel = new GuardianAngel();
    </script>

    </body>
</html>
